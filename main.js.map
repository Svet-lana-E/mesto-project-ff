{"version":3,"file":"main.js","mappings":"mBACA,IAAIA,EAAsB,CCA1BA,EAAwB,CAACC,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDH,EAAwB,CAACS,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,mBCAlF,IAAMI,EAAY,CAChBC,QAAS,kDACTC,QAAS,CACPC,cAAe,uCACf,eAAgB,qBAMdC,EAAiB,SAACC,GACtB,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,WAADC,OAAYL,EAAIM,QACvC,EAEMC,EAAoB,SAACC,GACzBC,QAAQC,IAAIF,EACd,EAUaG,EAAc,WACzB,OAAOC,MAAMjB,EAAUC,QAAU,YAAa,CAC5CC,QAASF,EAAUE,UAEpBgB,KAAKd,GACLe,MAAMP,EACT,EC3BO,SAASQ,EAAWC,GACzBA,EAAMC,UAAUC,IAAI,mBACpBC,SAASC,iBAAiB,UAAWC,EACvC,CAIO,SAASC,EAAWN,GACzBA,EAAMC,UAAUM,OAAO,mBACvBJ,SAASK,oBAAoB,UAAWH,EAC1C,CAIA,SAASA,EAAcI,GACN,WAAZA,EAAIzC,KAELsC,EADcH,SAASO,cAAc,oBAGzC,CAIO,SAASC,EAAkBF,GAC5BA,EAAIG,OAAOX,UAAUY,SAAS,oBAChCP,EAAWG,EAAIG,OAEnB,CAIO,IAAME,EAAwB,SAACC,GACpCA,EAAYL,cAAc,kBAAkBM,YAAc,eAC5D,ECnCO,SAASC,EAAWC,EAAMC,EAAMC,EAAQC,EAAQC,EAAaC,EAAQC,EAAYC,EAAoBC,GAC1G,IAAMC,EAAcC,EAAKC,WAAU,GAC7BC,EAAmBH,EAAYjB,cAAc,wBAC7CqB,EAAiBJ,EAAYjB,cAAc,sBAC3CsB,EAAYL,EAAYjB,cAAc,gBAkB5C,OAjBAiB,EAAYjB,cAAc,gBAAgBM,YAAcE,EACxDS,EAAYjB,cAAc,gBAAgBuB,IAAMd,EAChDQ,EAAYjB,cAAc,gBAAgBwB,IAAMhB,EAChDS,EAAYjB,cAAc,uBAAuBM,YAAcI,EAAOe,OACtER,EAAYS,QAAQf,OAASA,EAC1BC,IAAgBC,IACjBO,EAAiBO,MAAQ,iBAExBjB,EAAOkB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,MAAQjB,CAAM,KACxCQ,EAAe9B,UAAUC,IAAI,+BAE/B4B,EAAiB1B,iBAAiB,SAAS,WAAWoB,EAAWG,EAAY,IAC7EI,EAAe3B,iBAAiB,SAAS,WACvCqB,EAAmBM,EAAgBJ,GACnCI,EAAeU,MACjB,IACAT,EAAU5B,iBAAiB,SAAS,WAAWsB,EAAcR,EAAMC,EAAK,IACjEQ,CACT,CAIO,SAASH,EAAWkB,GACzB,IAAMC,EAAqBxC,SAASO,cAAc,8BAC5CkC,EAAsBD,EAAmBjC,cAAc,WAC7DX,EAAW4C,GACXD,EAAYhC,cAAc,wBAAwB+B,OAClDG,EAAoBxC,iBAAiB,SAAS,YF+BnB,SAACwB,GAC5B,OAAOhC,MAAMjB,EAAUC,QAAU,UAAYgD,EAAKQ,QAAQf,OAAQ,CAChEwB,OAAQ,SACRhE,QAASF,EAAUE,UAEpBgB,KAAKd,GACLe,MAAMP,EACT,EErCIuD,CAAcJ,GACb7C,KACC6C,EAAYnC,SACZD,EAAWqC,GAEf,GACF,CAIO,SAASlB,EAAmBsB,EAAYnB,GAC1CmB,EAAW9C,UAAUY,SAAS,+BFwCT,SAACe,GACzB,OAAOhC,MAAMjB,EAAUC,QAAU,gBAAkBgD,EAAKQ,QAAQf,OAAQ,CACtEwB,OAAQ,SACRhE,QAASF,EAAUE,UAEpBgB,KAAKd,GACLe,MAAMP,EACT,CE9CIyD,CAAWpB,GACR/B,MAAK,SAACoD,GACLrB,EAAKlB,cAAc,uBAAuBM,YAAciC,EAAKC,MAAMf,MACrE,IACCtC,KACCkD,EAAW9C,UAAUM,OAAO,gCFuBb,SAACqB,GACtB,OAAOhC,MAAMjB,EAAUC,QAAU,gBAAkBgD,EAAKQ,QAAQf,OAAQ,CACtEwB,OAAQ,MACRhE,QAASF,EAAUE,UAEpBgB,KAAKd,GACLe,MAAMP,EACT,CE1BI4D,CAAQvB,GACL/B,MAAK,SAACoD,GACLrB,EAAKlB,cAAc,uBAAuBM,YAAciC,EAAKC,MAAMf,MACrE,IACCtC,KAAKkD,EAAW9C,UAAUC,IAAI,+BAIrC,CClEA,IAiEMkD,EAAoB,SAACC,EAAWC,EAAeC,IAR9B,SAACF,GACtB,OAAOA,EAAUf,MAAK,SAACkB,GACrB,OAAQA,EAAaC,SAASC,KAChC,GACF,CAKMC,CAAgBN,IAIlBC,EAAcM,UAAW,EACzBN,EAAcrD,UAAUM,OAAOgD,EAAOM,uBAJtCP,EAAcM,UAAW,EACzBN,EAAcrD,UAAUC,IAAIqD,EAAOM,qBAKvC,EAIaC,EAAkB,SAAC/C,EAAawC,GAC3C,IAAMF,EAAYU,MAAMC,KAAKjD,EAAYkD,iBAAiBV,EAAOW,gBAC3DZ,EAAgBvC,EAAYL,cAAc6C,EAAOY,sBACjDC,EAAmBL,MAAMC,KAAKjD,EAAYkD,iBAAiB,IAAD5E,OAAKkE,EAAOc,cAC5EhB,EAAUiB,SAAQ,SAACC,GACjBA,EAAQtE,UAAUM,OAAOgD,EAAOiB,gBAClC,IACAJ,EAAiBE,SAAQ,SAACG,GACxBA,EAAaxE,UAAUM,OAAOgD,EAAOc,YACrCI,EAAazD,YAAc,EAC7B,IACAsC,EAAcM,UAAW,EACzBN,EAAcrD,UAAUC,IAAIqD,EAAOM,qBACnCP,EAActC,YAAc,WAC9B,E,ggCCpFA,IDyCiCuC,ECrCpB3B,EAJQzB,SAASO,cAAc,kBAAkBgE,QAI7BhE,cAAc,SAClCiE,EAAWxE,SAASO,cAAc,iBACzCkE,EAASzE,SAAS8D,iBAAiB,UAC5BY,EAAY1E,SAASO,cAAc,oBACnCoE,EAAe3E,SAASO,cAAc,wBAC7CqE,EAAa5E,SAASO,cAAc,qBACpCsE,EAAwB7E,SAASO,cAAc,2BAC/CuE,EAAkBF,EAAWrE,cAAc,iBAC3CwE,EAAiBH,EAAWrE,cAAc,mBAC1CyE,EAAUhF,SAASO,cAAc,YACjC0E,EAAoBD,EAAQzE,cAAc,yBAC1C2E,EAAoBF,EAAQzE,cAAc,wBAC1C4E,EAAqBH,EAAQzE,cAAc,yBAC3C6E,EAAeJ,EAAQzE,cAAc,mBACrC8E,EAAeL,EAAQzE,cAAc,mBACrC+E,EAAyBN,EAAQzE,cAAc,yBAC/CgF,EAAkBvF,SAASwF,MAAM,gBACjCC,EAAwBzF,SAASwF,MAAM,eACvCE,EAAiCD,EAAsBlF,cAAc,kCACrEoF,EAA2BJ,EAAgBhF,cAAc,2BACzDqF,EAA8BL,EAAgBhF,cAAc,kCAC5DsF,EAAe7F,SAASwF,MAAM,aAC9BM,EAAwBD,EAAatF,cAAc,gCACnDwF,EAAwBF,EAAatF,cAAc,0BAInDyF,EAAmB,CACvBC,aAAc,eACdlC,cAAe,gBACfC,qBAAsB,iBACtBN,oBAAqB,yBACrBW,gBAAiB,0BACjBH,WAAY,wBAIRgC,EAAkB,SAACC,GAGvB,OAFAf,EAAavE,YAAcsF,EAASpF,KACpCoE,EAAmBtE,YAAcsF,EAASC,MACnChB,EAAavE,YAAasE,EAAmBtE,WACtD,EAqBO,SAASU,EAAc8E,EAAgBC,GAC5CvB,EAAelE,YAAcwF,EAC7BvB,EAAgBhD,IAAMwE,EACtBxB,EAAgB/C,IAAMsE,EACtBzG,EAAUgF,EACZ,CAvBA5F,QAAQuH,IAAI,CJnCH9G,MAAMjB,EAAUC,QAAU,SAAU,CACzCC,QAASF,EAAUE,UAEpBgB,KAAKd,GACLe,MAAMP,GI+BuBI,MAC7BE,MAAK,SAAA8G,GAA8B,IAAAC,EAAAC,EAAAF,EAAA,GAA5BG,EAAYF,EAAA,GAAEN,EAAQM,EAAA,GAC5BE,EAAaxC,SAAQ,SAAC1C,GACpB+C,EAASoC,OAAO9F,EAAWW,EAAKV,KAAMU,EAAKT,KAAMS,EAAKsB,MAAOtB,EAAKY,IAAKZ,EAAKoF,MAAMxE,IAAK8D,EAAS9D,IAAKhB,EAAYC,EAAoBC,GACvI,IACA2E,EAAgBC,GAChBd,EAAanD,MAAQ,yBAAHhD,OAA4BiH,EAASW,OAAM,IAC/D,IAoBFrC,EAAON,SAAQ,SAASC,GACTA,EHlFPtE,UAAUC,IAAI,qBGmFpBE,iBAAiB,QAASO,GACD4D,EAAQ7D,cAAc,iBAC9BN,iBAAiB,SAAS,WACzCE,EAAWiE,EAAQ,GAEvB,IASAa,EAAkBhF,iBAAiB,SAAS,WAC1C0D,EAAgB4B,EAAiBS,GACjCpG,EAAU8E,GACViB,EAAyBoB,MAAQ3B,EAAavE,YAC9C+E,EAA4BmB,MAAQ5B,EAAmBtE,YACvDoE,EAAkB3C,MACpB,IAEA4C,EAAkBjF,iBAAiB,SAAS,WAC1C0D,EAAgBkC,EAAcG,GAC9BpG,EAAU+E,GACVkB,EAAamB,QACb9B,EAAkB5C,MACpB,IAEAgD,EAAuBrF,iBAAiB,SAAS,WAC/C0D,EAAgB8B,EAAuBO,GACvCpG,EAAUiF,GACVS,EAAuBhD,OACvBoD,EAA+BqB,MAAQ,EACzC,IAIAxB,EAAgBtF,iBAAiB,UAAU,SAASK,GJrFtB,IAAC2G,EAAOC,EIsFpC5G,EAAI6G,iBACJxG,EAAsB4E,IJvFO0B,EIwFdtB,EAAyBoB,MJxFJG,EIwFWtB,EAA4BmB,MJvFpEtH,MAAMjB,EAAUC,QAAU,YAAa,CAC5CiE,OAAQ,QACRhE,QAASF,EAAUE,QACnB0I,KAAMC,KAAKC,UAAU,CACnBvG,KAAMkG,EACNb,MAAOc,MAGVxH,KAAKd,GACLe,MAAMP,II+EJM,KAAKwG,GACLxG,KAAKS,EAAWuE,GACrB,IAIAmB,EAAa5F,iBAAiB,UAAU,SAASK,GJhFjB,IAACiH,EAAUC,EIiFzClH,EAAI6G,iBACJxG,EAAsBkF,GACtB7G,QAAQuH,IAAI,EJnFmBgB,EImFDzB,EAAsBiB,MJnFXS,EImFkBzB,EAAsBgB,MJlF1EtH,MAAMjB,EAAUC,QAAU,SAAU,CACzCiE,OAAQ,OACRhE,QAASF,EAAUE,QACnB0I,KAAMC,KAAKC,UAAU,CACnBvG,KAAMwG,EACNvG,KAAMwG,MAGT9H,KAAKd,GACLe,MAAMP,IIyEkFI,MACtFE,MAAK,SAAA+H,GAAsB,IAAAC,EAAAhB,EAAAe,EAAA,GAApBhG,EAAIiG,EAAA,GAAEvB,EAAQuB,EAAA,GACpBlD,EAASmD,QAAQ7G,EAAWW,EAAKV,KAAMU,EAAKT,KAAMS,EAAKsB,MAAOtB,EAAKY,IAAKZ,EAAKoF,MAAMxE,IAAK8D,EAAS9D,IAAKhB,EAAYC,EAAoBC,GACxI,IACC7B,KAAKS,EAAWwE,GACrB,ID5FiCvB,ECgGhB4C,ED/FEpC,MAAMC,KAAK7D,SAAS8D,iBAAiBV,EAAO6C,eACpD9B,SAAQ,SAACvD,IAjBM,SAACA,EAAawC,GACtC,IAAMF,EAAYU,MAAMC,KAAKjD,EAAYkD,iBAAiBV,EAAOW,gBAC3DZ,EAAgBvC,EAAYL,cAAc6C,EAAOY,sBACvDf,EAAkBC,EAAWC,EAAeC,GAC5CF,EAAUiB,SAAQ,SAACd,GACjBA,EAAapD,iBAAiB,SAAS,YApB3B,SAACW,EAAawD,EAAShB,GACjCgB,EAAQd,SAASsE,gBACnBxD,EAAQyD,kBAAkBzD,EAAQnC,QAAQ6F,cAE1C1D,EAAQyD,kBAAkB,IAExBzD,EAAQd,SAASC,MAfA,SAAC3C,EAAawD,EAAShB,GAC5C,IAAMkB,EAAe1D,EAAYL,cAAc,IAADrB,OAAKkF,EAAQ2D,GAAE,WAC7D3D,EAAQtE,UAAUM,OAAOgD,EAAOiB,iBAChCC,EAAaxE,UAAUM,OAAOgD,EAAOc,YACrCI,EAAazD,YAAc,EAC7B,CAaImH,CAAepH,EAAawD,EAAShB,GA3BlB,SAACxC,EAAawD,EAAShB,EAAQ0E,GACpD,IAAMxD,EAAe1D,EAAYL,cAAc,IAADrB,OAAKkF,EAAQ2D,GAAE,WAC7D3D,EAAQtE,UAAUC,IAAIqD,EAAOiB,iBAC7BC,EAAaxE,UAAUC,IAAIqD,EAAOc,YAClCI,EAAazD,YAAciH,CAC7B,CAoBIG,CAAerH,EAAawD,EAAShB,EAAQgB,EAAQ8D,kBAIzD,CAUMC,CAAQvH,EAAayC,EAAcD,GACnCH,EAAkBC,EAAWC,EAAeC,EAE9C,GACF,GACF,CAOIgF,CAAmBxH,EAAawC,EAClC,ICgGFqC,EAAsBxF,iBAAiB,UAAU,SAACK,GJjDrB,IAAC+H,EIkD5B/H,EAAI6G,iBACJxG,EAAsB8E,IJnDM4C,EIoDd3C,EAA+BqB,MJnDtCtH,MAAMjB,EAAUC,QAAU,mBAAoB,CACnDiE,OAAQ,QACRhE,QAASF,EAAUE,QACnB0I,KAAMC,KAAKC,UAAU,CACnBR,OAAQuB,MAGX3I,KAAKd,GACLe,MAAMP,II4CJM,KAAKS,EAAW0E,GACrB,G","sources":["webpack://mesto-project-ff/webpack/bootstrap","webpack://mesto-project-ff/webpack/runtime/define property getters","webpack://mesto-project-ff/webpack/runtime/hasOwnProperty shorthand","webpack://mesto-project-ff/./src/scripts/api.js","webpack://mesto-project-ff/./src/scripts/modal.js","webpack://mesto-project-ff/./src/scripts/card.js","webpack://mesto-project-ff/./src/scripts/validation.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const configApi = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/wff-cohort-38',\n  headers: {\n    authorization: '187e31d4-6e25-4812-bdb8-27a500552f6b',\n    'Content-Type': 'application/json'\n  }\n}\n\n//getting initial cards and used data\n\nconst handleResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`); // если ошибка, отклоняем промис\n}\n\nconst showResponseError = (err) => {\n  console.log(err); // выводим ошибку в консоль\n}\n\nexport const getInitialCards = () => {\n  return fetch(configApi.baseUrl + '/cards', {\n    headers: configApi.headers,\n  })\n  .then(handleResponse)\n  .catch(showResponseError)\n}\n\nexport const getUserData = () => {\n  return fetch(configApi.baseUrl + '/users/me', {\n    headers: configApi.headers,\n  })\n  .then(handleResponse)\n  .catch(showResponseError)\n}\n\n// edit profile\n\nexport const editProfileApi = (title, description) => {\n  return fetch(configApi.baseUrl + '/users/me', {\n    method: \"PATCH\",\n    headers: configApi.headers,\n    body: JSON.stringify({\n      name: title,\n      about: description,\n    })\n  })\n  .then(handleResponse)\n  .catch(showResponseError)\n}\n\n// add new card\n\nexport const createNewCardApi = (cardName, cardLink) => {\n  return fetch(configApi.baseUrl + '/cards', {\n    method: \"POST\",\n    headers: configApi.headers,\n    body: JSON.stringify({\n      name: cardName,\n      link: cardLink,\n    })\n  })\n  .then(handleResponse)\n  .catch(showResponseError)\n}\n\n// delete card\n\nexport const deleteCardApi = (card) => {\n  return fetch(configApi.baseUrl + '/cards/' + card.dataset.cardId, {\n    method: \"DELETE\",\n    headers: configApi.headers,\n    })\n  .then(handleResponse)\n  .catch(showResponseError)\n}\n\n// card like\nexport const setLike = (card) => {\n  return fetch(configApi.baseUrl + '/cards/likes/' + card.dataset.cardId, {\n    method: \"PUT\",\n    headers: configApi.headers,\n  })\n  .then(handleResponse)\n  .catch(showResponseError)\n}\n\n// card dislike\n\nexport const removeLike = (card) => {\n  return fetch(configApi.baseUrl + '/cards/likes/' + card.dataset.cardId, {\n    method: \"DELETE\",\n    headers: configApi.headers,\n  })\n  .then(handleResponse)\n  .catch(showResponseError)\n}\n\n// edit user avatar\n\nexport const editUserImage = (avatarLink) => {\n  return fetch(configApi.baseUrl + '/users/me/avatar', {\n    method: \"PATCH\",\n    headers: configApi.headers,\n    body: JSON.stringify({\n      avatar: avatarLink,\n    })\n  })\n  .then(handleResponse)\n  .catch(showResponseError)\n}","// popup animation function\n\nexport function animatePopup(popup) {\n  popup.classList.add('popup_is-animated');\n}\n\n// popup open + add eventListener Esc +++++++++\n\nexport function openPopup (popup) {\n  popup.classList.add('popup_is-opened');\n  document.addEventListener('keydown', closeEscPopup);\n}\n\n//close popup +++++++++++++\n\nexport function closePopup(popup) {\n  popup.classList.remove('popup_is-opened');\n  document.removeEventListener('keydown', closeEscPopup);\n}\n\n// close  popup with Esc\n\nfunction closeEscPopup(evt) {\n  if(evt.key === 'Escape') {\n    const popup = document.querySelector('.popup_is-opened');\n    closePopup(popup);\n  }\n}\n\n// close popup through overlay +++++++++++\n\nexport function closeOverlayPopup(evt) {\n  if (evt.target.classList.contains('popup_is-opened')){\n    closePopup(evt.target);\n  }\n}\n\n// saving process button\n\nexport const savingButtonInProcess = (formElement) => {\n  formElement.querySelector('.popup__button').textContent = 'Сохранение...'\n}\n\n","import {card} from '../index.js';\nimport {deleteCardApi, setLike, removeLike} from './api.js';\nimport {openPopup, closePopup} from './modal.js';\n\n// @todo: Функция создания карточки\n\nexport function createCard(name, link, number, cardId, cardOwnerId, userId, removeCard, likeButtonIsActive, openPopupCard) {\n  const cardElement = card.cloneNode(true);\n  const buttonDeleteCard = cardElement.querySelector('.card__delete-button');\n  const buttonLikeCard = cardElement.querySelector('.card__like-button');\n  const cardImage = cardElement.querySelector('.card__image');\n  cardElement.querySelector('.card__title').textContent = name;\n  cardElement.querySelector('.card__image').src = link;\n  cardElement.querySelector('.card__image').alt = name;\n  cardElement.querySelector('.card__like-counter').textContent = number.length;\n  cardElement.dataset.cardId = cardId;\n  if(cardOwnerId !== userId) {\n    buttonDeleteCard.style = 'display: none';\n  }\n  if(number.some(user => user._id === userId)) {\n    buttonLikeCard.classList.add('card__like-button_is-active');\n  }\n  buttonDeleteCard.addEventListener('click', function(){removeCard(cardElement)});\n  buttonLikeCard.addEventListener('click', function(){\n    likeButtonIsActive(buttonLikeCard, cardElement);\n    buttonLikeCard.blur();\n  });\n  cardImage.addEventListener('click', function(){openPopupCard(name, link)});\n  return cardElement;\n};\n\n// @todo: Функция удаления карточки\n\nexport function removeCard(deletedCard) {\n  const deleteConfirmPopup = document.querySelector('.popup_type_delete-confirm');\n  const buttonConfirmDelete = deleteConfirmPopup.querySelector('.button');\n  openPopup (deleteConfirmPopup);\n  deletedCard.querySelector('.card__delete-button').blur(),\n  buttonConfirmDelete.addEventListener('click', () => {\n    deleteCardApi(deletedCard)\n    .then(\n      deletedCard.remove(),\n      closePopup(deleteConfirmPopup),\n    );\n  });\n}\n\n// card likeButton is active\n\nexport function likeButtonIsActive(likeButton, card) {\n  if(likeButton.classList.contains('card__like-button_is-active')) {\n    removeLike(card)\n      .then((data) => {\n        card.querySelector('.card__like-counter').textContent = data.likes.length;\n      })\n      .then(\n        likeButton.classList.remove('card__like-button_is-active'),\n        //likeButton.blur()\n      )\n  } else {\n    setLike(card)\n      .then((data) => {\n        card.querySelector('.card__like-counter').textContent = data.likes.length;\n      })\n      .then(likeButton.classList.add('card__like-button_is-active'),\n      //likeButton.blur()\n    )\n  }\n} \n\n","//show form validation error\n\nconst showInputError = (formElement, element, config, errorMessage) => {\n  const errorElement = formElement.querySelector(`.${element.id}-error`);\n  element.classList.add(config.inputErrorClass);\n  errorElement.classList.add(config.errorClass);\n  errorElement.textContent = errorMessage;\n}\n \n//hide form validation error\n\nconst hideInputError = (formElement, element, config) => {\n  const errorElement = formElement.querySelector(`.${element.id}-error`);\n  element.classList.remove(config.inputErrorClass);\n  errorElement.classList.remove(config.errorClass);\n  errorElement.textContent = '';\n}\n\n// all inputs validation checking\n\nconst isValid = (formElement, element, config) => {\n  if (element.validity.patternMismatch) {\n    element.setCustomValidity(element.dataset.errorMessage);\n  } else {\n    element.setCustomValidity('');\n  }\n  if(!element.validity.valid) {\n    showInputError(formElement, element, config, element.validationMessage);\n  } else {\n    hideInputError(formElement, element, config)\n  }\n}\n\n//all inputs setting eventlistener\n\nconst setEventListeners = (formElement, config) => {\n  const inputList = Array.from(formElement.querySelectorAll(config.inputSelector));\n  const buttonElement = formElement.querySelector(config.submitButtonSelector);\n  toggleButtonState(inputList, buttonElement, config);\n  inputList.forEach((inputElement) => {\n    inputElement.addEventListener('input', () => {\n      isValid(formElement, inputElement, config);\n      toggleButtonState(inputList, buttonElement, config);\n\n    })\n  })\n}\n\n//form validation initializing\n\nexport const enableValidation = (config) => {\n  const formList = Array.from(document.querySelectorAll(config.formSelector));\n  formList.forEach((formElement) => {\n    setEventListeners (formElement, config);\n  })\n}\n\n//any invalid input checking\n\nconst hasInvalidInput =(inputList) => {\n  return inputList.some((inputElement) => {\n    return !inputElement.validity.valid;\n  })\n}\n\n// form button condition toggling\n\nconst toggleButtonState = (inputList, buttonElement, config) => {\n  if (hasInvalidInput(inputList)) {\n    buttonElement.disabled = true;\n    buttonElement.classList.add(config.inactiveButtonClass);\n  } else {\n    buttonElement.disabled = false;\n    buttonElement.classList.remove(config.inactiveButtonClass);\n  }\n}\n\n//form validation clearing\n\nexport const clearValidation = (formElement, config) => {\n  const inputList = Array.from(formElement.querySelectorAll(config.inputSelector));\n  const buttonElement = formElement.querySelector(config.submitButtonSelector);\n  const errorElementList = Array.from(formElement.querySelectorAll(`.${config.errorClass}`));\n  inputList.forEach((element) => {\n    element.classList.remove(config.inputErrorClass);\n  });\n  errorElementList.forEach((errorElement) => {\n    errorElement.classList.remove(config.errorClass);\n    errorElement.textContent = '';\n  })\n  buttonElement.disabled = true;\n  buttonElement.classList.add(config.inactiveButtonClass);\n  buttonElement.textContent = 'Сохранить';\n}\n","import './index.css';\n//import {initialCards} from './scripts/cards.js';\nimport {createCard, removeCard, likeButtonIsActive} from './scripts/card.js';\nimport {openPopup, closePopup, animatePopup, closeOverlayPopup, savingButtonInProcess} from '../src/scripts/modal.js';\nimport {enableValidation, clearValidation} from './scripts/validation.js';\nimport {getInitialCards, getUserData, editProfileApi, createNewCardApi, editUserImage} from './scripts/api.js';\n\n// @todo: Темплейт карточки\n\nconst cardTemplate = document.querySelector('#card-template').content;\n\n// @todo: DOM узлы\n\nexport const card = cardTemplate.querySelector('.card');\nexport const cardList = document.querySelector('.places__list');\nconst popups = document.querySelectorAll('.popup');\nexport const popupEdit = document.querySelector('.popup_type_edit');\nexport const popupNewCard = document.querySelector('.popup_type_new-card');\nconst popupImage = document.querySelector('.popup_type_image');\nconst popupEditProfileImage = document.querySelector('.popup_type_edit-avatar');\nconst photoPopupImage = popupImage.querySelector('.popup__image');\nconst namePopupImage = popupImage.querySelector('.popup__caption');\nconst profile = document.querySelector('.profile');\nconst buttonEditProfile = profile.querySelector('.profile__edit-button');\nconst buttonAddNewPlace = profile.querySelector('.profile__add-button');\nconst profileDescription = profile.querySelector('.profile__description');\nconst profileTitle = profile.querySelector('.profile__title');\nconst profileImage = profile.querySelector('.profile__image');\nconst buttonEditProfileImage = profile.querySelector('.profile__edit-avatar');\nconst formEditProfile = document.forms['edit-profile'];\nconst formEditProfileAvatar = document.forms['edit-avatar'];\nconst inputLinkFormEditProfileAvatar = formEditProfileAvatar.querySelector('.popup__input_type_avatar_link');\nconst inputNameFormEditProfile = formEditProfile.querySelector('.popup__input_type_name');\nconst inputDescriptionEditProfile = formEditProfile.querySelector('.popup__input_type_description');\nconst formNewPlace = document.forms['new-place'];\nconst inputNameFormNewPlace = formNewPlace.querySelector('.popup__input_type_card-name');\nconst inputLinkFormNewPlace = formNewPlace.querySelector('.popup__input_type_url');\n\n// form validation config\n\nconst validationConfig = {\n  formSelector: '.popup__form',\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__button',\n  inactiveButtonClass: 'popup__button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__error_visible'\n};\n\n// fill-in profile\nconst fillProfileData = (userData) => {\n  profileTitle.textContent = userData.name;\n  profileDescription.textContent = userData.about;\n  return profileTitle.textContent, profileDescription.textContent;\n}\n\n//getting initial card-list + user data API\nPromise.all([getInitialCards(), getUserData()])\n  .then(([initialCards, userData]) => {\n    initialCards.forEach((card) => {\n      cardList.append(createCard(card.name, card.link, card.likes, card._id, card.owner._id, userData._id, removeCard, likeButtonIsActive, openPopupCard));\n    });\n    fillProfileData(userData);\n    profileImage.style = `background-image: url(${userData.avatar})`;\n  })\n\n// edit profile in editForm (method without API)\n/*function editProfile(title, description) {\n  profileTitle.textContent = title;\n  profileDescription.textContent = description;\n  return profileTitle.textContent, profileDescription.textContent;\n}*/\n\n// popup bigSize card\n\nexport function openPopupCard(popupImageName, popupImageLink) {\n  namePopupImage.textContent = popupImageName;\n  photoPopupImage.src = popupImageLink;\n  photoPopupImage.alt = popupImageName;\n  openPopup(popupImage);\n} \n\n// popups animation\n\npopups.forEach(function(element) {\n  animatePopup(element);\n  addEventListener('click', closeOverlayPopup);\n  const buttonClosePopup = element.querySelector('.popup__close');\n  buttonClosePopup.addEventListener('click', function(){\n    closePopup(element)}\n  );\n});\n\n// @todo: Вывести карточки на страницу (method without API)\n/*initialCards.forEach(element => {\n  cardList.append(createCard(element.name, element.link, removeCard, likeButtonIsActive, openPopupCard));\n})*/\n\n// open popup +++++++++++++ \n\nbuttonEditProfile.addEventListener('click', function(){ //edit\n  clearValidation(formEditProfile, validationConfig); \n  openPopup(popupEdit);\n  inputNameFormEditProfile.value = profileTitle.textContent;\n  inputDescriptionEditProfile.value = profileDescription.textContent;\n  buttonEditProfile.blur();\n});\n\nbuttonAddNewPlace.addEventListener('click', function(){ // newcard\n  clearValidation(formNewPlace, validationConfig);\n  openPopup(popupNewCard);\n  formNewPlace.reset();\n  buttonAddNewPlace.blur();\n});\n\nbuttonEditProfileImage.addEventListener('click', () => { // edit avatar\n  clearValidation(formEditProfileAvatar, validationConfig);\n  openPopup(popupEditProfileImage);\n  buttonEditProfileImage.blur();\n  inputLinkFormEditProfileAvatar.value = '';\n});\n\n// edit profile ++++++++++++++\n\nformEditProfile.addEventListener('submit', function(evt){\n  evt.preventDefault();\n  savingButtonInProcess(formEditProfile) // остается надпись Сохранение...\n  editProfileApi(inputNameFormEditProfile.value, inputDescriptionEditProfile.value)\n    .then(fillProfileData)\n    .then(closePopup(popupEdit));\n})\n\n// add new place ++++++++++++++\n\nformNewPlace.addEventListener('submit', function(evt){\n  evt.preventDefault();\n  savingButtonInProcess(formNewPlace)\n  Promise.all([createNewCardApi(inputNameFormNewPlace.value, inputLinkFormNewPlace.value), getUserData()])\n    .then(([card, userData]) => {\n      cardList.prepend(createCard(card.name, card.link, card.likes, card._id, card.owner._id, userData._id, removeCard, likeButtonIsActive, openPopupCard));\n    })\n    .then(closePopup(popupNewCard));\n})\n\n// form validation\n\nenableValidation(validationConfig);\n\n// edit user avatar\n\nformEditProfileAvatar.addEventListener('submit', (evt) => {\n  evt.preventDefault();\n  savingButtonInProcess(formEditProfileAvatar)\n  editUserImage(inputLinkFormEditProfileAvatar.value)\n    .then(closePopup(popupEditProfileImage));\n})"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","configApi","baseUrl","headers","authorization","handleResponse","res","ok","json","Promise","reject","concat","status","showResponseError","err","console","log","getUserData","fetch","then","catch","openPopup","popup","classList","add","document","addEventListener","closeEscPopup","closePopup","remove","removeEventListener","evt","querySelector","closeOverlayPopup","target","contains","savingButtonInProcess","formElement","textContent","createCard","name","link","number","cardId","cardOwnerId","userId","removeCard","likeButtonIsActive","openPopupCard","cardElement","card","cloneNode","buttonDeleteCard","buttonLikeCard","cardImage","src","alt","length","dataset","style","some","user","_id","blur","deletedCard","deleteConfirmPopup","buttonConfirmDelete","method","deleteCardApi","likeButton","removeLike","data","likes","setLike","toggleButtonState","inputList","buttonElement","config","inputElement","validity","valid","hasInvalidInput","disabled","inactiveButtonClass","clearValidation","Array","from","querySelectorAll","inputSelector","submitButtonSelector","errorElementList","errorClass","forEach","element","inputErrorClass","errorElement","content","cardList","popups","popupEdit","popupNewCard","popupImage","popupEditProfileImage","photoPopupImage","namePopupImage","profile","buttonEditProfile","buttonAddNewPlace","profileDescription","profileTitle","profileImage","buttonEditProfileImage","formEditProfile","forms","formEditProfileAvatar","inputLinkFormEditProfileAvatar","inputNameFormEditProfile","inputDescriptionEditProfile","formNewPlace","inputNameFormNewPlace","inputLinkFormNewPlace","validationConfig","formSelector","fillProfileData","userData","about","popupImageName","popupImageLink","all","_ref","_ref2","_slicedToArray","initialCards","append","owner","avatar","value","reset","title","description","preventDefault","body","JSON","stringify","cardName","cardLink","_ref3","_ref4","prepend","patternMismatch","setCustomValidity","errorMessage","id","hideInputError","showInputError","validationMessage","isValid","setEventListeners","avatarLink"],"sourceRoot":""}